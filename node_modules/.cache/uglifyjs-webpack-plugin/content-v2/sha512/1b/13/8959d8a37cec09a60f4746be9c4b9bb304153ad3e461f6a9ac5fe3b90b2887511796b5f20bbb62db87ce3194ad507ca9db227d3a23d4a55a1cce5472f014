{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(t,e){(t||e)&&(this.model=void 0===e?new AbstractModel:e,this.view=\"string\"==typeof t?new AbstractView(t):t,this.view.setController(this))}n.r(e),r.prototype={run:function(){Promise.all([this.view.loadTemplate(),this.model.load()]).then(()=>{this.view.render()})}};var o=r;function i(){}i.prototype={load:function(t){return new Promise(function(t){t()})},sendRequest:function(t,e){$.ajax({type:\"POST\",url:\"https://fe.it-academy.by/AjaxStringStorage2.php\",data:{f:\"READ\",n:t},success:function(n){n.result?$.ajax({type:\"POST\",url:\"https://fe.it-academy.by/AjaxStringStorage2.php\",data:{f:\"LOCKGET\",n:t,p:\"111\"},success:function(){$.ajax({type:\"POST\",url:\"https://fe.it-academy.by/AjaxStringStorage2.php\",data:{f:\"UPDATE\",n:t,p:\"111\",v:JSON.stringify(e)}})}}):$.ajax({type:\"POST\",url:\"https://fe.it-academy.by/AjaxStringStorage2.php\",data:{f:\"INSERT\",n:t,v:JSON.stringify(e)}})},error:function(){$.ajax({type:\"POST\",url:\"https://fe.it-academy.by/AjaxStringStorage2.php\",data:{f:\"INSERT\",n:t,v:JSON.stringify(e)}})}})}};function a(t){t&&(this.template=t)}a.prototype={template:null,renderView:function(){},setController:function(t){this.controller=t},loadTemplate:function(){var t=this;return t.viewStr?new Promise(function(e){e(t)}):this.template?new Promise(function(e){$.ajax({url:t.template,type:\"GET\",dataType:\"text\",success:function(n){t.viewStr=n,e(t)}})}):void new Promise(function(t,e){e(\"Template is not specified\")})},render:function(){$(\"#main\").css(\"display\",\"none\"),$(\".content\").html(this.viewStr),this.renderView()}};window.onhashchange=l;var u=null;function l(t){var e=window.location.hash;u[e.substr(1)].run(e.substr(1))}$(document).ready(function(){u={\"main.html\":new o(\"main.html\"),\"about.html\":new o(\"about.html\"),\"products.html\":new o(\"products.html\"),\"products_cake.html\":new ProductsCakeController(new ProductsCakeView,new ProductsCakeModel),\"contacts.html\":new o(\"contacts.html\"),\"cart.html\":new CartController(new CartView,new CartModel),\"add-product.html\":new AddProductController(new AddProductView,new AddProductModel),\"ordering.html\":new o(new OrderingView)},l()})}]);","extractedComments":[]}